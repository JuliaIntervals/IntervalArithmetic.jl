using IntervalArithmetic
using Test

@testset "IntervalToText" begin
    @test string(âˆ…) == "[Empty]"
    @test string(Interval(-Inf, Inf)) == "Entire"
    @test string(nai(Float64)) == "[Nai]"
    @test string(Interval(1, 4)) == "[1, 4]"
    @test string(Interval(1.1, 4.1)) == "[1.1, 4.1]"
    @test string(Interval(1.12, 4.13)) == "[1.12, 4.13]"
    @test string(Interval(1.132, 4.231)) == "[1.13, 4.24]"
    @test string(@biginterval(5^(1/3), sqrt(5))) == "[1.7, 2.24]"
    @test string(@biginterval(5^(2/3), sqrt(10))) == "[2.92, 3.17]"
    @test string(Interval(2.3534534644, 3.564537887687), "6 : [c  .  ]") == "[2, 4]"
    @test string(Interval(2.3534534644, 3.56453), "7 : [c  .  ]") == " [2, 4]"
    @test string(Interval(2.3534534644, 3.56453), "8 : [c  .  ]") == "[2.3, 4]"
    @test string(Interval(2.3534534644, 3.56453), "9 : [c  .  ]") == "[2.35, 4]"
    @test string(Interval(2.3534534644, 3.56453), "10 : [c  .  ]") == "[2.3, 3.6]"
    @test string(Interval(2.3534534644, 3.56453), "11 : [c  .  ]") == "[2.35, 3.6]"
    @test string(Interval(2.3534534644, 3.56453), "12 : [c  .  ]") == "[2.35, 3.57]"
    @test string(Interval(2.3534534644, 3.56453), "13 : [c  .  ]") == "[2.353, 3.57]"
    @test string(Interval(2.3534534644, 3.56453), "14 : [c  .  ]") == "[2.353, 3.565]"
    @test string(Interval(2.3534534644, 3.56453), "15 : [c  .  ]") == "[2.3534, 3.565]"
    @test string(Interval(2.3534534644, 3.56453), "16 : [c  .  ]") == "[2.3534, 3.5646]"
    @test string(Interval(2.3534534644, 3.56453), "17 : [c  .  ]") == "[2.35345, 3.5646]"
    @test string(Interval(2.3534534644, 3.564537887687), "18 : [c  .  ]") == "[2.35345, 3.56454]"
    @test string(Interval(2.3534534644, 3.564537887687), "19 : [c  .  ]") == " [2.35345, 3.56454]"
    @test string(Interval(2.3534534644, 3.564537887687), "20 : [c  .  ]") == "  [2.35345, 3.56454]"
    @test string(Interval(2.3534534644, 3.564537887687), " : [c 1 .  ]") == "[2, 3]"
    @test string(Interval(2.3534534644, 3.564537887687), " : [c 2 .  ]") == "[ 2,  3]"
    @test string(Interval(2.3534534644, 3.564537887687), " : [c 3 .  ]") == "[2.3, 3.6]"
    @test string(Interval(2.3534534644, 3.564537887687), " : [c 4 .  ]") == "[2.35, 3.57]"
    @test string(Interval(2.3534534644, 3.564537887687), " : [c 5 .  ]") == "[2.353, 3.565]"
    @test string(Interval(2.3534534644, 3.564537887687), " : [c 6 .  ]") == "[2.3534, 3.5646]"
    @test string(Interval(2.3534534644, 3.564537887687), " : [c 7 .  ]") == "[2.35345, 3.56454]"
    @test string(Interval(2.3534534644, 3.564537887687), " : [c 8 .  ]") == "[ 2.35345,  2.35345]"
    @test string(Interval(2.3534534644, 3.564537887687), " : [c 9 .  ]") == "[  2.35345,   2.35345]"
    @test string(Interval(2.3534534644, 3.564537887687), " : [c 10 .  ]") == "[   2.35345,    2.35345]"
    @test string(Interval(2.3534534644, 3.564537887687), " : [c  . 0 ]") == "[2, 4]"
    @test string(Interval(2.3534534644, 3.564537887687), " : [c  . 1 ]") == "[2.3, 3.6]"
    @test string(Interval(2.3534534644, 3.564537887687), " : [c  . 2 ]") == "[2.35, 3.57]"
    @test string(Interval(2.3534534644, 3.564537887687), " : [c  . 3 ]") == "[2.353, 3.565]"
    @test string(Interval(2.3534534644, 3.564537887687), " : [c  . 4 ]") == "[2.3534, 3.5646]"
    @test string(Interval(2.3534534644, 3.564537887687), " : [c  . 5 ]") == "[2.35345, 3.56454]"
    @test string(Interval(2.3534534644, 3.564537887687), " : [c  . 6 ]") == "[2.353453, 3.564538]"
    @test string(Interval(2.3534534644, 3.564537887687), " : [c  . 7 ]") == "[2.3534534, 3.5645379]"
    @test string(Interval(2.3534534644, 3.564537887687), " : [c  . 8 ]") == "[2.35345346, 3.56453789]"
    @test string(Interval(2.3534534644, 3.564537887687), " : [c  . 9 ]") == "[2.353453464, 3.564537888]"
    @test string(Interval(2.3534534644, 3.564537887687), " : [c  . 10 ]") == "[2.3534534643, 3.5645378877]"
    @test string(Interval(2.3534534644, 3.564537887687), " : [c  . 11 ]") == "[2.35345346439, 3.56453788769]"
    @test string(Interval(2.3534534644, 3.564537887687), " : [c  . 12 ]") == "[2.353453464400, 3.564537887688]"
    @test string(Interval(2.3534534644, 3.564537887687), " : [c  . 13 ]") == "[2.3534534644000, 3.5645378876871]"
    @test string(Interval(2.3534534644, 3.564537887687), " : [c  . 14 ]")== "[2.35345346439999, 3.56453788768701]"
    @test string(Interval(2.3534534644, 3.564537887687), " : [c  . 15 ]") == "[2.353453464400000, 3.564537887687001]"
    @test string(Interval(2.3534534644, 3.564537887687), " : [c 2 . 0 ]") == "[ 2,  4]"
    @test string(Interval(2.3534534644, 3.564537887687), " : [c 3 . 1 ]") == "[2.3, 3.6]"
    @test string(Interval(2.3534534644, 3.564537887687), " : [c 4 . 1 ]") == "[ 2.3,  3.6]"
    @test string(Interval(2.3534534644, 3.564537887687), " : [c 4 . 2 ]") == "[2.35, 3.57]"
    @test string(Interval(2.3534534644, 3.564537887687), " : [c 5 . 2 ]") == "[ 2.35,  3.57]"
    @test string(Interval(2.3534534644, 3.564537887687), "12 : [c  . 2 ]") == "[2.35, 3.57]"
    @test string(Interval(2.3534534644, 3.564537887687), "12 : [c  . 1 ]") == "  [2.3, 3.6]"
    @test string(Interval(2.3534534644, 3.564537887687), "12 : [c  . 0 ]") == "      [2, 4]"
    @test string(Interval(2.3534534644, 3.564537887687), "14 : [c  . 3 ]") == "[2.353, 3.565]"
    @test string(Interval(2.3534534644, 3.564537887687), "15 : [c  . 3 ]") == " [2.353, 3.565]"
    @test string(Interval(2.3534534644, 3.564537887687), "16 : [c  . 4 ]") == "[2.3534, 3.5646]"
    @test string(Interval(2.3534534644, 3.564537887687), "16 : [c 3 .  ]") == "      [2.3, 3.6]"
    @test string(Interval(2.3534534644, 3.564537887687), "16 : [c 3 . 1]") == "      [2.3, 3.6]"
    @test string(Interval(2.3534534644, 3.564537887687), "12 : [c 3 . 1]") == "  [2.3, 3.6]"
    @test string(Interval(2.3534534644, 3.564537887687), "10 : [c 3 . 1]") == "[2.3, 3.6]"
    @test string(Interval(2.3534534644, 3.564537887687), "12 : [c 4 . 1]") == "[ 2.3,  3.6]"
    @test string(Interval(2.3534534644, 3.564537887687), "12 : [ 4 . 1]") ==  "  [2.3, 3.6]"
    @test string(Interval(2.3534534644, 3.564537887687), "12 : [  4 . 1]") == "[ 2.3,  3.6]"

    @test string(3.55 .. 3.578, "6 :  4 . 2 ?") == "3.56?2"
    @test string(3.55 .. 3.578, "7 :  4 . 2 ?") == " 3.56?2"
    @test string(3.55 .. 3.578, " :u 4 . 2 ?") == "3.55?3u"
    @test string(3.55 .. 3.578, "8 :u 4 . 2 ?") == " 3.55?3u"
    @test string(3.55 .. 3.578, " :d 4 . 2 ?") == "3.58?3d"
    @test string(3.55 .. 3.578, "8 :d 4 . 2 ?") == " 3.58?3d"
    @test string(Interval(3.555, 3.565), "7 : . 3 ?") == "3.560?5"
    @test string(Interval(3.555, 3.565), "8 : . 3 ?") == " 3.560?5"
    @test string(Interval(3.555, 3.565), "8 :c 6 . 3 ?") == " 3.560?5"
    @test string(Interval(3.555, 3.565), "8 :0 6 . 3 ?") == "03.560?5"

    @test string(3.55 .. 3.578, "6 :  4 .  ?") == "3.56?2"
    @test string(3.55 .. 3.578, "7 :  4 .  ?") == " 3.56?2"
    @test string(3.55 .. 3.578, " :u 4 .  ?") == "3.55?3u"
    @test string(3.55 .. 3.578, "8 :u 4 . ?") == " 3.55?3u"
    @test string(3.55 .. 3.578, " :d 4 .  ?") == "3.58?3d"
    @test string(3.55 .. 3.578, "8 :d 4 . ?") == " 3.58?3d"
    @test string(Interval(3.555, 3.565), "7 : .  ?") == "3.560?6"
    @test string(Interval(3.555, 3.565), "8 : .  ?") == " 3.560?6"
    @test string(Interval(3.555, 3.565), "8 :c 6 .  ?") == " 3.560?6"
    @test string(Interval(3.555, 3.565), "8 :0 6 . ?") == "03.560?6"
end
